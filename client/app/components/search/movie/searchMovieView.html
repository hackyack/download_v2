<div class="row">
    <div class="col-sm-offset-3 col-sm-6">
        <div class="card m-t-25">
            <div class="card-body">
                <div class="search-input">
                    <input type="text" ng-model="subview.asyncSelected" placeholder="Film" typeahead="movie as movie.name for movie in subview.getMovies($viewValue)" typeahead-on-select="subview.selectItem($item, $model, $label)" typeahead-template-url="customTemplate.html" class="form-control">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row" ng-if="subview.selectedItemInfo">
    <div class="col-sm-offset-3 col-sm-6">
        <div class="card">
            <div style="width: 100%; max-height: 250px; overflow: hidden;">
                 <img style="width: 100%;" ng-src="https://image.tmdb.org/t/p/w1000{{subview.selectedItemInfo.backdrop_path}}">
            </div>
            <div class="card-header bgm-bluegray">
                <h2>{{subview.selectedItemInfo.title}} ({{subview.selectedItemInfo.release_date | date:'yyyy'}})</h2>
            </div>
            <div class="card-body">
                <div class="card-body card-padding" style="height: 100%; position: relative">
                    <p>{{subview.selectedItemInfo.overview}}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-offset-3 col-sm-6">
        <div class="card m-t-25">
            <div class="card-body">
                <form class="search-input" ng-submit="subview.searchTorrent()">
                    <input ng-model="subview.searchTerm" type="text" placeholder="ex: Avatar">
                    <button type="submit" class="waves-effect"><i class="zmdi zmdi-search"></i></button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="card m-t-25">
    <div class="card-header">
        <h2>Basic Examples <small>With lease settings enabled.</small></h2>
    </div>
            
    <div class="card-body" ng-if="subview.torrentResult">
        <div class="table-responsive">
            <table ng-table="subview.torrentResult" class="table table-striped table-vmiddle">
                <tr ng-repeat="w in $data" ng-click="subview.selectedItem = w.id" ng-class="w.id == subview.selectedItem ? 'bgm-bluegray c-white' : 'focusable'">
                    <td data-title="'Name'">
                        {{ w.name }}
                    </td>
                    <td data-title="'Size'">
                        {{ w.size | bytes}}
                    </td>
                    <td data-title="'Seeders'">
                        {{ w.seeders }}
                    </td>
                    <td data-title="'Leechers'">
                        {{ w.leechers }}
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>

<script type="text/ng-template" id="customTemplate.html">
    <a>
        <img ng-if="match.model.image" ng-src="https://image.tmdb.org/t/p/w185{{match.model.image}}" height="50" />
        <img ng-if="!match.model.image" ng-src="assets/img/movie-default.jpg" height="50" />
        <span>{{match.model.name}}</span>
        <ng-if="match.model.year"> ({{match.model.year}})</span>
    </a>
</script>